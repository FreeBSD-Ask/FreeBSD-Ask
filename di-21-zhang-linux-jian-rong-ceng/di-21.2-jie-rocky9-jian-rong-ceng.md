# 21.2 通过 FreeBSD Ports 安装 Rocky Linux 兼容层

截至 2026 年 2 月 16 日，Ports/包 [emulators/linux-rl9](https://www.freshports.org/emulators/linux-rl9/) 基于 Rocky Linux 9.7：

查看当前 Linux 发行版的版本信息：

```sh
bash-5.1$ cat /etc/redhat-release      # Rocky Linux 兼容层内
Rocky Linux release 9.7 (Blue Onyx)
```

## 启用 Linux 兼容层服务

```sh
# service linux enable   # 启用 Linux 兼容层服务，并设置为开机自启
# service linux start    # 启动 Linux 兼容层服务
```

## 安装基本系统

- 使用 pkg 安装：

```sh
# pkg install linux-rl9
```

- 或者使用 Ports 安装：

```sh
# cd /usr/ports/emulators/linux-rl9/ 
# make install clean
```

## 配置相关服务

```sh
# service dbus enable  # 通常桌面环境已经配置
# service dbus start  # 通常桌面环境已经配置
# dbus-uuidgen > /compat/linux/etc/machine-id  # 生成 machine-id 并写入 Linux 兼容环境配置文件（可选）
```

无需配置 `/etc/fstab`，`linux_mounts_enable` 会自动运行。

重启后生效。
