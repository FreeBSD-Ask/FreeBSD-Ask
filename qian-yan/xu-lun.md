# 绪论

## 本书定位

本书涉及了 FreeBSD 15.0-RELEASE（将来的）、14.3-RELEASE 和 13.5-RELEASE 的安装和日常使用（并尽量向下兼容），还包含一些 16.0-CURRENT 的内容。

主要面向 x86-64（amd64）、AArch64（arm64），并尽可能多的支持其他体系平台。

Windows 测试环境为 Windows 11，并尽量使用最新更新通道的 Windows update。

## 对读者的要求

以高等院校计算机科学与技术学科一般本科毕业生所能达到的及格或及格以上水平为编写难度基准。

## 本书的组织结构

**第 1 章 FreeBSD 初见**

围绕自由软件运动与开源运动，为读者介绍 BSD UNIX 的历史与哲学。试图厘清那些纷争以及常见误区。

**第 2 章 安装 FreeBSD**

指导使用 FreeBSD 内置工具 `bsdinstall` 来安装 FreeBSD。

**第 3 章 FreeBSD 基础**

涉及一些 Unix 基础知识和 FreeBSD 特色功能。主要面向 Windows 用户和 Linux 用户。即使你认为自己已经掌握了一些，也建议概览一下子目录。

**第 4 章 软件管理和系统升级**

本章涵盖：使用 pkg 命令安装二进制包，使用 Ports 编译安装软件；FreeBSD 系统更新。

**第 5 章 桌面环境**

尽可能地罗列了所有可在 FreeBSD 上运行的桌面环境。如果没有你喜欢的欢迎 PR。

**第 6 章 本地化——i18n/L10n**

包括中文输入法和中文世界常用软件，如 Wine、QQ、微信和 WPS。如果没有你喜欢的欢迎 PR。

**第 7 章 多媒体和外部设备**

如何使用 FreeBSD 进行音视频播放功能。还讲解了蓝牙、打印机等常用设备。

**第 8 章 代理服务器**

中文世界不可或缺的一类软件。这里不会写（在兼容层跑一样可以用，但是还是想要原生的），欢迎 PR。

**第 9 章 Jail**

FreeBSD 的特色功能。

**第 10 章 虚拟化与容器**

主要讲解了 FreeBSD 上的 Bhyve 虚拟机以及容器。

**第 11 章 FreeBSD 高级安装**

使用手动方式和其他专业的安装方式和安装介质在不同平台上安装 FreeBSD。

**第 12 章 窗口管理器**

尽可能地罗列了所有可在 FreeBSD 上运行的窗口管理器。如果没有你喜欢的欢迎 PR。

**第 13 章 FreeBSD 系统管理**

主要讲解了 bsdconfig、SSH 以及系统恢复与引导相关工具的用法。

**第 14 章 网络管理**

IPv4、IPv6 及常用网络命令。

**第 15 章 FreeBSD 防火墙**

FreeBSD 防火墙

**第 16 章 服务器**

一些非 web 服务器。

**第 17 章 Web 服务器和监控平台**

常用的网络服务器和监控平台。

**第 18 章 嵌入式平台**

主要介绍了如何在树莓派、RISC-V 和 X86 等嵌入式设备上运行 BSD。

**第 19 章 数据库管理**

介绍了常用数据库的安装和使用。

**第 20 章 游戏、科学计算和专业工具**

游戏和科研教育工具。

**第 21 章 Linux 二进制兼容层**

如何在 FreeBSD 上运行各式 Linux。如果没有你喜欢的 Linux 发行版，欢迎 PR。

**第 22 章 开发生态与贡献社区**

如何在 FreeBSD 上搭建各种常用开发环境。

**第 23 章 存储管理和文件系统**

主要介绍了 ZFS、UFS 以及常见的 Windows、Linux 文件系统的使用方法。

**第 24 章 DragonFly BSD 入门**

面向桌面用户和 X86 平台的蜻蜓 BSD。

**第 25 章 TwinCAT/BSD 入门**

倍福自动化操作系统。

**第 26 章 OpenBSD 入门**

一款安全至上的操作系统，OpenBSD。

**第 27 章 NetBSD 入门**

NetBSD。~~这个应该真的没人用~~

**附录 Ⅰ 计算机概论**

涉及 408（计算机学科专业基础）的相关内容。

**附录 Ⅱ 工具与资源**

硬件挑选、BIOS 参数注解及开源常识。

**附录 Ⅲ 文学故事**

只有故事，没有酒。

**附录 Ⅳ 参考文献和术语**

全书涉及到的核心参考文献和术语表。

## 本书中命令及符号含义

### 权限

`#` 代表 `root` 下的操作，基本等同 `su`、`sudo` 和 `doas`。

`$`、`%` 代表普通用户账户权限。

### 特别提示

>**注意**
>
>提示一些注意事项。

>**技巧**
>
>提示一些技巧。

>**警告**
>
>如果不知道、不做就无法完成或造成重大危害的事项。

>**思考题**
>
>>Date	Fri, 25 Aug 2000 11:09:12 -0700 (PDT)
>>From	Linus Torvalds <>
>>Subject	Re: SCO: "thread creation is about a thousand times faster than onnative
>>
>>
>>On Fri, 25 Aug 2000, Jamie Lokier wrote:
>>
>> Well well.  I think it's possible to over the best of user-space "fake"
>>threads plus the advantages of "true" kernel threads in one blindingly
>> fast combination, in less than 8kB per thread.
>>
>>Talk is cheap. Show me the code.
>>
>>		Linus
>>
>>——引自 <https://lkml.org/lkml/2000/8/25/132>
>
>>请读者自行查阅 Jamie Lokier 对 Linux Kernel 线程性能的影响。
>
>>“提出一个问题往往比解决一个问题更重要——《物理学的进化》”（[美]阿尔伯特·爱因斯坦 / [波]利奥波德·英费尔德. 物理学的进化[M]. 北京: 中信出版集团, 2019: 88-89. ISBN 9787521701418.）
>
>>“Code is cheap. Show me the talk. AI 可以快速地将任何想法付诸实践，即使现在难以实现，日后也可以轻易完成。”
>
>>“哲学家们只是用不同的方式解释世界，问题在于改变世界。”——《关于费尔巴哈的提纲》第十一条，马克思 1845 年稿本（马克思, 恩格斯. 马克思恩格斯选集(第1卷) [M]. 北京: 人民出版社, 1995: 57.）
>
>>人们争论马克思理论的可信性，但对其影响毫无争议。历史上没有任何哲学家能宣称有如此大比例的、国际性的、有组织的积极追随者。然而，这个哲学家的光环和他的生活之间的差别是一个惊人的讽刺。卡尔·马克思的名字实际上成了革命的符号。然而，马克思很少把时间花在直接的街头政治运动上。相反，构成他生活的是在大英博物馆图书室里无休无止的研究和写作，他每天在那里的同一张书桌前从早上 9 点工作到晚上 7 点闭馆。他在家里继续这一天的工作这几个小时之久，直到精疲力竭，需要睡觉来结束这一天为止。讽刺的是，虽然他的思想塑造了 20 世纪的很大一部分，马克思却过着一种相对隐秘和孤独的生活。如果不是因为他的家庭和一小群密友与政治朋友陪伴，隐居在书籍和手稿世界中的他很难与中世纪僧侣区分开来。更讽刺的是，尽管他经常轻视文字和观念的力量（他称之为“哲学家头脑中的幻影”），他却表明了它们可以是多么可怕的武器。作为他理论的成果，政府被推翻，地图被改写，他的名字成了 20 世纪家喻户晓的词。——（[美] 威廉·F.劳黑德. 哲学的历程[M]. 第 4 版. 北京: 中国轻工业出版社, 2017: 448. ISBN 9787518412600.）
>>
>
>结合上述内容，你究竟怎样理解 Talk 与 Code ？

思考题是帮助有意愿探索有动力追问一切的一种途径。

### 特殊章节

```
故障排除与未竟事宜
```

旨在将现存的问题和改进的方向/建议或谜团留置其中，以期后人的智慧。

### 删除线

~~为何人要活着？越是想探究生命的意义，越会陷入混乱。——《卡里古拉》（原作 FuRyu）第三集标题~~

~~KDE 6 在 Wayland 下右键单击会导致黑屏~~

删除线表明过时的内容或起调侃意味的文字。其不属于正文的一部分，如果无法理解“梗”可以跳过，不会影响任何东西。

## pkg 与 ports

因为 FreeBSD 有两种安装软件的方式（但个别软件不支持 pkg 安装）：因此为了方便，在本教程中已经尽可能地列出了两种方式的安装说明。但希望大家明白，只是为了方便，而并非不能使用 ports 或者 pkg 进行安装或必须使用二者其一进行安装。

>**请注意**
>
> ports 一般是 HEAD 分支，你的 pkg 最好与 ports 保持在同一主线上，即都选择 `latest`。但是你亦可以自行拉取 pkg 对应的 Ports 季度分支，如 `2025Q1`。

如果要安装软件 `yyy`，`yyy` 在 ports 里是 `xxx/yyy`，那么路径便是 `/usr/ports/xxx/yyy`。

- 那么首先可以通过 pkg 安装二进制软件包，和绝大多数 Linux 用法一样，下同：

```sh
# pkg install yyy
```

还可以这样：

```sh
# pkg install xxx/yyy
```

或者这样简写：

```sh
# pkg ins yyy
```

- 那么还可以通过 Ports 编译安装：

```sh
# cd /usr/ports/xxx/yyy
# make install clean
```

将会不断地弹出来窗口询问你怎么选。如果是使用默认选项，请这样做，则：

```sh
# cd /usr/ports/xxx/yyy
# make BATCH=yes install clean
```

如果你想一次性完成所有配置：

```sh
# cd /usr/ports/xxx/yyy
# make config-recursive # 会一直问你，直到结束依赖
# make install clean
```
