# 7.4 Hyprland

>**è­¦å‘Š**
>
>ç”±äº DRM GPU é©±åŠ¨å°šæœªåœ¨ FreeBSD ä¸Šç§»æ¤ï¼Œç›®å‰åœ¨å¸¸è§è™šæ‹Ÿæœºä¸­æ— æ³•ä½¿ç”¨ã€‚
>
>åœ¨ä½¿ç”¨ Nvidia æ˜¾å¡æ—¶ä¸å¯ç”¨ã€‚
>
>é™¤è½¯ä»¶åŒ…å®‰è£…å’Œç³»ç»Ÿé‡å¯æ“ä½œå¤–ï¼Œæœ¬æ–‡ä¸­çš„æ‰€æœ‰å‘½ä»¤åº”åœ¨é root ç”¨æˆ·æƒé™ä¸‹æ‰§è¡Œã€‚

Hyprland æ˜¯åŸºäº Wayland çš„åˆæˆå™¨ï¼ˆcompositorï¼‰ï¼Œæ”¯æŒçª—å£é€æ˜ã€æ¨¡ç³Šã€åœ†è§’ç­‰ç‰¹æ•ˆï¼Œå¹¶ä¸”åŠ¨ç”»æ•ˆæœè¡¨ç°è‰¯å¥½ã€‚

Hyprland çš„çª—å£ç„¦ç‚¹åˆ‡æ¢ä¸ä¼ ç»Ÿæ¡Œé¢ä¸åŒï¼šé¼ æ ‡å…‰æ ‡åœç•™åœ¨å“ªä¸ªçª—å£ä¸Šï¼Œè¯¥çª—å£å³è·å¾—ç„¦ç‚¹ï¼ˆæ— éœ€ç‚¹å‡»ï¼‰ï¼Œé€šå¸¸ä¸ä½¿ç”¨ Alt+Tab ç­‰å¿«æ·é”®è¿›è¡Œåˆ‡æ¢ã€‚

![hyprland on FreeBSD](../.gitbook/assets/hyprland.png)

## å®‰è£… Hyprland

### ä½¿ç”¨ pkg å®‰è£…

```sh
# pkg ins hyprland waybar wofi qt6-base qt5-wayland qt6-wayland xdg-desktop-portal-hyprland hyprpicker swaybg mako nerd-fonts slurp grim swaylock kitty dolphin hyprpolkitagent
```

### æˆ–è€…ä½¿ç”¨ Ports å®‰è£…

```sh
# cd /usr/ports/x11-wm/hyprland/ && make install clean
# cd /usr/ports/x11/waybar/ && make install clean
# cd /usr/ports/x11/wofi/ && make install clean
# cd /usr/ports/devel/qt6-base/ && make install clean
# cd /usr/ports/graphics/qt5-wayland/ && make install clean
# cd /usr/ports/graphics/qt6-wayland/ && make install clean
# cd /usr/ports/x11/xdg-desktop-portal-hyprland/ && make install clean
# cd /usr/ports/x11/hyprpicker/ && make install clean
# cd /usr/ports/x11/swaybg/ && make install clean
# cd /usr/ports/x11/mako/ && make install clean
# cd /usr/ports/x11-fonts/nerd-fonts/ && make install clean
# cd /usr/ports/x11/slurp/ && make install clean
# cd /usr/ports/x11/grim/ && make install clean
# cd /usr/ports/x11/swaylock/ && make install clean
# cd /usr/ports/x11-fm/dolphin/ && make install clean
# cd /usr/ports/x11/kitty/ && make install clean
# cd /usr/ports/sysutils/hyprpolkitagent/ && make install clean
```

### è§£é‡Šè½¯ä»¶åŒ…

>**æ³¨æ„**
>
>ä½œä¸ºä¾èµ–ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å®‰è£… dbus åŠ Waylandã€‚

| åŒ…å                        | ä½œç”¨è¯´æ˜                                                                 |
|:-----------------------------|:--------------------------------------------------------------------------|
| `hyprland`                  | åŠ¨æ€å¹³é“ºå¼ Wayland åˆæˆå™¨ |
| `waybar`                    | ä¸º wlroots åˆæˆå™¨ï¼ˆå¦‚ Hyprlandï¼‰è®¾è®¡çš„ GTK çŠ¶æ€æ  |
| `wofi`                      |ç¨‹åºå¯åŠ¨å™¨ï¼ˆä¹Ÿå¯ä½¿ç”¨ rofiï¼‰ |
| `qt6-base`                  | Qt 6 çš„åŸºç¡€æ¨¡å— |
| `qt5-wayland`               | Qt 5 çš„ Wayland æ”¯æŒæ¨¡å—ï¼Œèƒ½è®© Qt 5 åº”ç”¨ç¨‹åºåœ¨ Wayland ç¯å¢ƒä¸­è¿è¡Œã€‚ |
| `qt6-wayland`               | Qt 6 çš„ Wayland æ”¯æŒæ¨¡å—ï¼Œèƒ½è®© Qt 6 åº”ç”¨ç¨‹åºåœ¨ Wayland ç¯å¢ƒä¸­è¿è¡Œã€‚ |
| `xdg-desktop-portal-hyprland` | Hyprland çš„ XDG Desktop Portal å®ç°ï¼Œæä¾›ä¸å…¶ä»–åº”ç”¨ç¨‹åºçš„é€šä¿¡æ¥å£|
| `hyprpicker`                | é¢œè‰²é€‰æ‹©å™¨ |
| `swaybg`                    | å£çº¸å·¥å…· |
| `mako`                      | æ˜¾ç¤ºé€šçŸ¥ |
| `nerd-fonts`                | å›¾æ ‡å­—ä½“ï¼Œå¯ä»¥ç”¨æ¥åœ¨é…ç½®æ–‡ä»¶ä¸­æ’å…¥å›¾æ¡ˆï¼Œæ˜¾ç¤ºåœ¨ waybar ç­‰åœ°æ–¹ |
| `slurp`                     | å±å¹•é€‰æ‹©å·¥å…·ï¼Œç”¨æ¥åœ¨å±å¹•ä¸Šé€‰åŒº |
| `grim`                      | å±å¹•æˆªå›¾å·¥å…· |
| `swaylock`                  | é”å±å·¥å…· |
| `kitty`                     | ç»ˆç«¯|
|`dolphin`|æ–‡ä»¶ç®¡ç†å™¨|
|`hyprpolkitagent`|polkit éªŒè¯ä»£ç†|

## å¯åŠ¨æœåŠ¡

```sh
# service seatd enable   # è®¾ç½® seatd æœåŠ¡å¼€æœºè‡ªå¯åŠ¨
# service dbus enable    # è®¾ç½® D-Bus æœåŠ¡å¼€æœºè‡ªå¯åŠ¨
```

## å¯åŠ¨ Hyprland

### è®¾ç½® XDG_RUNTIME_DIR

å…ˆè®¾ç½®ç¯å¢ƒå˜é‡ `XDG_RUNTIME_DIR`ï¼Œä»¥é¿å…å¯åŠ¨æ—¶æŠ¥é”™ã€‚

å¦‚æœæ˜¯é»˜è®¤ shell shï¼Œå°†ä»¥ä¸‹å†™å…¥ `~/.profile`ï¼ˆå¯¹äº zshï¼Œæ”¾å…¥ `~/.zprofile`ï¼Œä¸‹åŒï¼‰è®¾ç½®å½“å‰ç”¨æˆ·çš„ XDG è¿è¡Œæ—¶ç›®å½•ï¼š

```ini
export XDG_RUNTIME_DIR=/var/run/user/`id -u`
```

ç„¶åæ‰§è¡Œé‡å¯å‘½ä»¤ï¼š`reboot`ã€‚

æŒ‰å¿«æ·é”® Ctrl+Alt+F2 è¿›å…¥ TTYï¼Œæ‰§è¡Œ `dbus-run-session Hyprland`ï¼Œç³»ç»Ÿå°†åœ¨ `~/.config/hypr` ç”Ÿæˆé»˜è®¤é…ç½®æ–‡ä»¶ã€‚


## é…ç½®è‡ªåŠ¨å¯åŠ¨

å¦‚æœéœ€è¦åœ¨ä¸ä½¿ç”¨ç™»å½•ç®¡ç†å™¨çš„å‰æä¸‹å¼€æœºè‡ªåŠ¨å¯åŠ¨ Hyprlandï¼Œè¯·å°†ä¸‹è¡Œå†™å…¥ `~/.profile`ï¼š

```ini
dbus-run-session Hyprland
```

å³åœ¨ D-Bus ä¼šè¯ä¸­å¯åŠ¨ Hyprland çª—å£ç®¡ç†å™¨ã€‚

ä¹Ÿå¯ä»¥ä½¿ç”¨å‘½ä»¤ `Hyprland -c <é…ç½®æ–‡ä»¶è·¯å¾„>` æ¥æŒ‡å®šé…ç½®æ–‡ä»¶ã€‚

## é…ç½®é»˜è®¤é…ç½®æ–‡ä»¶ `hyprland.conf`

Hyprland é»˜è®¤é…ç½®æ–‡ä»¶çš„ä½ç½®æ˜¯ `~/.config/hypr/hyprland.conf`ã€‚

æ³¨æ„ï¼š

- å¯åŠ¨åï¼ŒHyprland é»˜è®¤åœ¨å±å¹•é¡¶éƒ¨æ˜¾ç¤ºä¸€ä¸ªé»„è‰²æ¡å¸¦è­¦å‘Šæ ‡è¯†ã€‚å¯åœ¨é…ç½®æ–‡ä»¶ä¸­å°†å…¶æ³¨é‡Šæ‰ï¼Œæ‰¾åˆ° `autogenerated = 1` è¿™ä¸€è¡Œï¼Œåœ¨å¼€å¤´æ·»åŠ æ³¨é‡Šç¬¦å· `#`ï¼Œæˆ–è€…ç›´æ¥åˆ é™¤æ•´è¡Œã€‚
- é»˜è®¤å°† Windows å¾½æ ‡é”®ï¼ˆç±» Unix ç³»ç»Ÿä¸­ç§°ä¸º Super é”®ï¼Œä¸‹åŒï¼‰è®¾ç½®ä¸º mod é”®ï¼ˆå¯æ ¹æ®ä¸ªäººä¹ æƒ¯æ”¹ä¸º Alt é”®ç­‰ï¼‰ï¼š`$mainMod = SUPER`ã€‚
- æ‚¬æµ®çª—å£çš„è¡Œä¸ºä¸ä¼ ç»Ÿæ¡Œé¢ç¯å¢ƒç±»ä¼¼ï¼Œå¯éšæ„æ‹–åŠ¨åˆ°å±å¹•ä¸Šçš„ä»»æ„ä½ç½®ï¼Œå¹¶å¯ä½¿ç”¨é¼ æ ‡è°ƒæ•´çª—å£å¤§å°ã€‚åœ¨é»˜è®¤é…ç½®æ–‡ä»¶ä¸­ï¼ŒæŒ‰ä½ mod é”®å¹¶å·¦é”®æ‹–åŠ¨æ‚¬æµ®çª—å£å¯ç§»åŠ¨çª—å£ä½ç½®ï¼ŒæŒ‰ä½å³é”®æ‹–åŠ¨å¯è°ƒæ•´çª—å£å¤§å°ã€‚å¯é€šè¿‡ `windowrulev2 = float, title:QQ` è®¾ç½®é»˜è®¤æ‚¬æµ®çª—å£ã€‚
- å»ºè®®å‚è€ƒä¸‹æ–¹é…ç½®æ–‡ä»¶ `hyprland.conf`ï¼Œå…¶ä¸­ `swaybg` ç”¨äºè®¾ç½®å£çº¸ï¼Œè¯·å°†è·¯å¾„ä¿®æ”¹ä¸ºä½ è‡ªå·±çš„å›¾ç‰‡æ–‡ä»¶æ‰€åœ¨ä½ç½®ã€‚

## ä»»åŠ¡æ ï¼š`exec-once=waybar`

- `hyprland.conf`

ç¤ºä¾‹ï¼š

```ini
# è¿›å…¥ Hyprland åè‡ªåŠ¨å¯åŠ¨ fcitx5ã€‚è¯¥å‘½ä»¤å·²è¢«æ³¨é‡Šï¼Œè¯»è€…åœ¨å®‰è£… fcitx5 åå¯è‡ªè¡Œå–æ¶ˆæ³¨é‡Š
#exec-once=fcitx5
# è®¾ç½®å£çº¸ï¼Œè¯·å°†è·¯å¾„ä¿®æ”¹ä¸ºè‡ªå·±çš„å›¾ç‰‡æ–‡ä»¶ä½ç½®
#exec-once=swaybg -i "$HOME/Pictures/Wallpapers/å£çº¸.jpg"
# ä»»åŠ¡æ 
exec-once=waybar
# swaylock é”å±
exec-once=swayidle -w timeout 300 'swaylock'

# autogenerated = 1 # ç§»é™¤æˆ–è€…æ³¨é‡Šè¿™ä¸€è¡Œä»¥æ¶ˆé™¤å±å¹•é¡¶éƒ¨è­¦å‘Šæ ‡è¯†ã€‚

# See https://wiki.hyprland.org/Configuring/Monitors/
monitor=,preferred,auto,auto

# See https://wiki.hyprland.org/Configuring/Keywords/ for more

# Source a file (multi-file configs)
# source = ~/.config/hypr/myColors.conf

# Some default env vars.
env = XCURSOR_SIZE,24

# For all categories, see https://wiki.hyprland.org/Configuring/Variables/
input {
    kb_layout = us
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =

    follow_mouse = 1

    touchpad {
        natural_scroll = no
    }

    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
}

general {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more

    gaps_in = 5
    gaps_out = 20
    border_size = 2
    col.active_border = rgba(33ccffee) rgba(00ff99ee) 45deg
    col.inactive_border = rgba(595959aa)

    layout = dwindle
}

animations {
    enabled = yes

    # Some default animations, see https://wiki.hyprland.org/Configuring/Animations/ for more

    bezier = myBezier, 0.05, 0.9, 0.1, 1.05

    animation = windows, 1, 7, myBezier
    animation = windowsOut, 1, 7, default, popin 80%
    animation = border, 1, 10, default
    animation = borderangle, 1, 8, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 6, default
}

dwindle {
    # See https://wiki.hyprland.org/Configuring/Dwindle-Layout/ for more
    pseudotile = yes # master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
    preserve_split = yes # you probably want this
}

gestures {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more
    workspace_swipe = off
}

# çª—å£è§„åˆ™
# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more
windowrulev2 = float, title:rofi.*
windowrulev2 = float, title:QQ
windowrulev2 = float, title:å›¾ç‰‡æŸ¥çœ‹å™¨


# See https://wiki.hyprland.org/Configuring/Keywords/ for more
$mainMod = SUPER # ä½¿ç”¨ Windows å¾½æ ‡é”®ä½œä¸º mainMod é”®
$shiftMod=SUPER_SHIFT
$altMod=SUPER_ALT
$alt=ALT
$shift=SHIFT

# Example binds, see https://wiki.hyprland.org/Configuring/Binds/ for more
bind = $mainMod, Q, exec, kitty # æ‰“å¼€ç»ˆç«¯
bind = $mainMod, C, killactive,  # å…³é—­çª—å£
bind = $mainMod, M, exit, # æ³¨é”€
bind = $mainMod, E, exec, dolphin # æ–‡ä»¶ç®¡ç†å™¨
bind = $mainMod, V, togglefloating,  # åˆ‡æ¢ä¸ºæ‚¬æµ®çª—å£ï¼Œå¯æ‹–åŠ¨
bind = $mainMod, R, exec, wofi --show drun # è½¯ä»¶å¯åŠ¨å™¨ï¼Œç±»ä¼¼èœå•
bind = $mainMod, P, pseudo, # å…è®¸ç„¦ç‚¹çª—å£ï¼ˆå…‰æ ‡æ‰€åœ¨çª—å£ï¼‰åœ¨å¹³é“ºçª—å£åŸå åŒºåŸŸå†…è‡ªç”±è°ƒèŠ‚å¤§å°å’Œä½ç½®
bind = $mainMod, J, togglesplit, # è°ƒæ•´ç„¦ç‚¹çª—å£ä¸ç›¸é‚»çª—å£çš„æ’åˆ—æ–¹å‘ï¼Œå¯åœ¨ä¸Šä¸‹æˆ–å·¦å³æ’åˆ—ä¹‹é—´åˆ‡æ¢
### æˆªå›¾
$screen_file=${HOME}/screen_shot_$(date + "%Y-%m-%d_%H-%M-%S").png
bind=$shiftMod, S, exec, grim -g "$(slurp)" - | wl-copy
bind=, Print,      exec, grim $screen_file
bind=$shift, Print,exec, grim -g "$(slurp)" $screen_file
bind=$alt, Print,  exec, grim - | wl-copy

# Move focus with mainMod + arrow keys
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

# Switch workspaces with mainMod + [0-9]
# åˆ‡æ¢å·¥ä½œåŒº mainmod é”® + æ•°å­—é”®ï¼Œ1 åˆ° 0 å¯¹åº” 10 ä¸ªå·¥ä½œåŒºã€‚
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Move active window to a workspace with mainMod + SHIFT + [0-9]
# å°†çª—å£ç§»åŠ¨åˆ°åˆ«çš„å·¥ä½œåŒºï¼Œä¾‹å¦‚ mainmod+Shift+2ï¼ˆwin é”® +2 æ˜¯æŸ¥çœ‹å·¥ä½œåŒº 1ï¼‰
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# ä½¿ç”¨ mainMod + é¼ æ ‡æ»šè½® æ»šåŠ¨æµè§ˆç°æœ‰å·¥ä½œåŒº
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

```

## é…ç½® `kitty.conf`

- é…ç½®æ–‡ä»¶ä½ç½®ï¼š`~/.config/kitty/kitty.conf`ã€‚

ç¤ºä¾‹ï¼š

```ini
# Look and feel

## Color
# include ./obsidian.color.conf

## å­—ä½“è®¾ç½®
font_family      Hasklug Nerd Font Mono
font_size 14.0
#font_features FiraCodeNerdFontCompleteM-Retina +ss02 +ss03 +ss04 +ss05 +ss07 +zero

## æ–‡æœ¬å…‰æ ‡è®¾ç½®
cursor_blink_interval      2.0
cursor_stop_blinking_after 5.0

## Scrollback
scrollback_lines -1

## é¼ æ ‡ç›¸å…³è®¾ç½®
copy_on_select yes    # é€‰ä¸­æ–‡æœ¬æ—¶å¤åˆ¶
mouse_hide_wait 2.0   # å®šæ—¶éšè—é¼ æ ‡

## æç¤º ğŸ””
enable_audio_bell no
visual_bell_duration 0.3
bell_on_tab yes

## Tabs
tab_bar_edge top
tab_bar_style powerline
tab_powerline_style angled
active_tab_foreground   #111
active_tab_background   #eee
active_tab_font_style   bold
inactive_tab_foreground #666
inactive_tab_background #888
tab_bar_background #444
inactive_tab_font_style normal
tab_title_template "{fmt.fg.gray}{index}{fmt.fg.default}:{title}"
active_tab_title_template "{title}"

# Mechanics
input_delay 2
editor nvim
allow_remote_control no
allow_hyperlinks no
term xterm-256color
macos_option_as_alt yes
macos_quit_when_last_window_closed yes
strip_trailing_spaces smart
update_check_interval 72
hide_window_decorations titlebar-only

# Shortcuts
clear_all_shortcuts yes

## The defaults
map ctrl+a                pipe @text tab pbcopy
map ctrl+shift+c          copy_to_clipboard
map ctrl+shift+v          paste_from_clipboard
map ctrl+alt+j            scroll_page_up
map ctrl+alt+k            scroll_page_down
map ctrl+k                clear_terminal reset active

## æ ‡ç­¾é¡µç®¡ç†
map ctrl+t                new_tab_with_cwd !neighbor
map alt+s                next_tab
map alt+a                previous_tab
map alt+q                close_tab
map ctrl+s                set_tab_title
map ctrl+shift+left       move_tab_backward
map ctrl+shift+right      move_tab_forward
map alt+1                goto_tab 1
map alt+2                goto_tab 2
map alt+3                goto_tab 3
map alt+4                goto_tab 4
map alt+5                goto_tab 5
map alt+6                goto_tab 6
map alt+7                goto_tab 7
map alt+8                goto_tab 8
map alt+9                goto_tab 9

# æ–‡å­—å¤§å°è°ƒèŠ‚
map ctrl+equal            change_font_size current +1.0
map ctrl+minus            change_font_size current -1.0
map ctrl+0                change_font_size current 0

#include ${ARCH}.conf
```

## é…ç½® waybarï¼ˆä»»åŠ¡æ ï¼‰

waybar çš„é…ç½®æ–‡ä»¶ç›®å½•ä½äº `~/.config/waybar`ï¼Œå…¶ä¸­åŒ…å« `config.jsonc` å’Œ `style.css` æ–‡ä»¶ã€‚å¯å‚è€ƒç¤ºä¾‹é…ç½®æ–‡ä»¶è¿›è¡Œé…ç½®ï¼Œç¤ºä¾‹ä¸­éœ€è¦å®‰è£…è½¯ä»¶åŒ… `noto-emoji` æ‰èƒ½æ­£å¸¸æ˜¾ç¤ºï¼Œè¯»è€…å¯æ ¹æ®éœ€è¦ä¿®æ”¹ä¸ºè‡ªå·±æƒ³è¦çš„å›¾æ ‡ã€‚

`config.jsonc` ç¤ºä¾‹ï¼š

```json
{
    "position": "top",
    "layer": "top",
    "height": 16,
    "margin-top": 0,
    "margin-bottom": 0,
    "margin-left": 0,
    "margin-right": 0,
    "modules-left": ["custom/launcher", "wlr/workspaces", "custom/playerctl", "custom/playerlabel"],
    "modules-center": ["cpu", "memory", "disk"],
    "modules-right": ["tray", "custom/randwall", "network", "pulseaudio", "clock"],
	"clock": {
		"format": "â°  {:%H:%M}",
		"tooltip": "true",
        	"tooltip-format": "<big>{:%Y %B}</big>\n<tt><small>{calendar}</small></tt>",
        	"format-alt": "ğŸ—“ï¸  {:%y/%m/%d}"
	},


	"wlr/workspaces": {
        "active-only": false,
        "all-outputs": true,
        "disable-scroll": false,
        "on-scroll-up": "hyprctl dispatch workspace -1",
        "on-scroll-down": "hyprctl dispatch workspace +1",
		"format": "{icon}",
		"on-click": "activate",
		"format-icons": {
			"urgent": "ïª",
			"active": "ğŸ”´",
			"default": "ğŸ”µ",
    "sort-by-number": true
    },
    },

    "custom/playerctl": {
      "format": "{icon}",
      "return-type": "json",
      "max-length": 64,
      "exec": "playerctl -a metadata --format '{\"text\": \"{{artist}} - {{markup_escape(title)}}\", \"tooltip\": \"{{playerName}} : {{markup_escape(title)}}\", \"alt\": \"{{status}}\", \"class\": \"{{status}}\"}' -F",
      "on-click-middle": "playerctl play-pause",
      "on-click": "playerctl previous",
      "on-click-right": "playerctl next",
      "format-icons": {
        "Playing": "<span foreground='#E5B9C6'>ó°’® ó°Œ ó°’­</span>",
        "Paused": "<span foreground='#928374'>ó°’® ó°¥ ó°’­</span>"
      },
    },

    "custom/playerlabel": {
      "format": "<span>{}</span>",
      "return-type": "json",
      "max-length": 48,
      "exec": "playerctl -a metadata --format '{\"text\": \"{{artist}} - {{markup_escape(title)}}\", \"tooltip\": \"{{playerName}} : {{markup_escape(title)}}\", \"alt\": \"{{status}}\", \"class\": \"{{status}}\"}' -F",
      "on-click-middle": "playerctl play-pause",
      "on-click": "playerctl previous",
      "on-click-right": "playerctl next",
      "format-icons": {
        "Playing": "<span foreground='#E5B9C6'>ó°’® ó°Œ ó°’­</span>",
        "Paused": "<span foreground='#928374'>ó°’® ó°¥ ó°’­</span>"
      },
    },

  "memory": {
    "format": "ğŸŒŠ {}%",
    "format-alt": "ğŸŒŠ {used}/{total} GiB",
    "interval": 5
  },

  "cpu": {
    "format": "ğŸ“Ÿ {usage}%",
    "format-alt": "ğŸ“Ÿ {avg_frequency} GHz",
    "interval": 5
  },

  "disk": {
    "format": "ğŸ“¦ {}%",
    "format-alt": "ğŸ“¦ {used}/{total} GiB",
    "interval": 5,
    "path": "/"
  },

	"network": {
        	//"format-ethernet": "ï›¿ {ifname}: {ipaddr}",
            "format-ethernet": "ï›¿ IP: {ipaddr}",
        	//"format-linked": "ï›¿ {ifname} (No IP)",
        	"format-disconnected": "ó°¤­",
        	//"format-alt": "ï›¿ {ifname}: {ipaddr}/{cidr}",
          "tooltip-format": "{essid}",
          "on-click-right": "nm-connection-editor"
	},

	"tray": {
		"icon-size": 16,
		"spacing": 5
	},

	"backlight": {
	"format": "{icon} {percent}%",
        "format-icons": ["î", "î“", "î‘", "î", "î", "î", "îŠ", "îˆ", "î›"],
	},

	"pulseaudio": {
		"format": "{icon} {volume}%",
        	"format-muted": "ğŸ”‡",
		"format-icons": {
			"default": ["ğŸ”ˆ", "ğŸ”‰", "ğŸ”Š"]
		},
    "scroll-step": 5,
  },
  "custom/launcher": {
    "format": "ğŸš€",
    "on-click": "wofi --show drun",
    "on-click-right": "wofi --show drun"
  },
}

```

`style.css` ç¤ºä¾‹ï¼š

```css
* {
    border: none;
    border-radius: 0px;
    /*font-family: VictorMono, Iosevka Nerd Font, Noto Sans CJK;*/
    font-family: Cascadia Code, FontAwesome, Noto Sans CJK, Microsoft YaHei UI, HarmonyOS Sans;
    font-size: 14px;
    font-style: normal;
    min-height: 0;
}

window#waybar {
    background: rgba(30, 30, 46, 0.5);
    border-bottom: 1px solid #282828;
    color: #f4d9e1
}

#workspaces {
	background: #282828;
	margin: 5px 5px 5px 5px;
  padding: 0px 5px 0px 5px;
	border-radius: 16px;
  border: solid 0px #f4d9e1;
  font-weight: normal;
  font-style: normal;
}
#workspaces button {
    padding: 0px 5px;
    border-radius: 16px;
    color: #928374;
}

#workspaces button.active {
    color: #f4d9e1;
    background-color: transparent;
    border-radius: 16px;
}

#workspaces button:hover {
	background-color: #E6B9C6;
	color: black;
	border-radius: 16px;
}

#custom-date, #clock, #battery, #pulseaudio, #network, #custom-randwall, #custom-launcher {
	background: transparent;
	padding: 5px 5px 5px 5px;
	margin: 5px 5px 5px 5px;
  border-radius: 8px;
  border: solid 0px #f4d9e1;
}

#custom-date {
	color: #D3869B;
}

#custom-power {
	color: #24283b;
	background-color: #db4b4b;
	border-radius: 5px;
	margin-right: 10px;
	margin-top: 5px;
	margin-bottom: 5px;
	margin-left: 0px;
	padding: 5px 10px;
}

#tray {
    background: #282828;
    margin: 5px 5px 5px 5px;
    border-radius: 16px;
    padding: 0px 5px;
    /*border-right: solid 1px #282738;*/
}

#clock {
    color: #E6B9C6;
    background-color: #282828;
    border-radius: 0px 0px 0px 24px;
    padding-left: 13px;
    padding-right: 15px;
    margin-right: 0px;
    margin-left: 10px;
    margin-top: 0px;
    margin-bottom: 0px;
    font-weight: bold;
    /*border-left: solid 1px #282738;*/
}


#battery {
    color: #9ece6a;
}

#battery.charging {
    color: #9ece6a;
}

#battery.warning:not(.charging) {
    background-color: #f7768e;
    color: #24283b;
    border-radius: 5px 5px 5px 5px;
}

#backlight {
    background-color: #24283b;
    color: #db4b4b;
    border-radius: 0px 0px 0px 0px;
    margin: 5px;
    margin-left: 0px;
    margin-right: 0px;
    padding: 0px 0px;
}

#network {
    color: #f4d9e1;
    border-radius: 8px;
    margin-right: 5px;
}

#pulseaudio {
    color: #f4d9e1;
    border-radius: 8px;
    margin-left: 0px;
}

#pulseaudio.muted {
    background: transparent;
    color: #928374;
    border-radius: 8px;
    margin-left: 0px;
}

#custom-randwall {
    color: #f4d9e1;
    border-radius: 8px;
    margin-right: 0px;
}

#custom-launcher {
    color: #e5809e;
    background-color: #282828;
    border-radius: 0px 24px 0px 0px;
    margin: 0px 0px 0px 0px;
    padding: 0 20px 0 13px;
    /*border-right: solid 1px #282738;*/
    font-size: 20px;
}

#custom-launcher button:hover {
    background-color: #FB4934;
    color: transparent;
    border-radius: 8px;
    margin-right: -5px;
    margin-left: 10px;
}

#custom-playerctl {
	background: #282828;
	padding-left: 15px;
  padding-right: 14px;
	border-radius: 16px;
  /*border-left: solid 1px #282738;*/
  /*border-right: solid 1px #282738;*/
  margin-top: 5px;
  margin-bottom: 5px;
  margin-left: 0px;
  font-weight: normal;
  font-style: normal;
  font-size: 16px;
}

#custom-playerlabel {
    background: transparent;
    padding-left: 10px;
    padding-right: 15px;
    border-radius: 16px;
    /*border-left: solid 1px #282738;*/
    /*border-right: solid 1px #282738;*/
    margin-top: 5px;
    margin-bottom: 5px;
    font-weight: normal;
    font-style: normal;
}

#window {
    background: #282828;
    padding-left: 15px;
    padding-right: 15px;
    border-radius: 16px;
    /*border-left: solid 1px #282738;*/
    /*border-right: solid 1px #282738;*/
    margin-top: 5px;
    margin-bottom: 5px;
    font-weight: normal;
    font-style: normal;
}

#custom-wf-recorder {
    padding: 0 20px;
    color: #e5809e;
    background-color: #1E1E2E;
}

#cpu {
    background-color: #282828;
    /*color: #FABD2D;*/
    border-radius: 16px;
    margin: 5px;
    margin-left: 5px;
    margin-right: 5px;
    padding: 0px 10px 0px 10px;
    font-weight: bold;
}

#memory {
    background-color: #282828;
    /*color: #83A598;*/
    border-radius: 16px;
    margin: 5px;
    margin-left: 5px;
    margin-right: 5px;
    padding: 0px 10px 0px 10px;
    font-weight: bold;
}

#disk {
    background-color: #282828;
    /*color: #8EC07C;*/
    border-radius: 16px;
    margin: 5px;
    margin-left: 5px;
    margin-right: 5px;
    padding: 0px 10px 0px 10px;
    font-weight: bold;
}

#custom-hyprpicker {
    background-color: #282828;
    /*color: #8EC07C;*/
    border-radius: 16px;
    margin: 5px;
    margin-left: 5px;
    margin-right: 5px;
    padding: 0px 11px 0px 9px;
    font-weight: bold;
}

```

## é…ç½® swaylock

swaylock çš„é…ç½®æ–‡ä»¶åœ¨ `~/.config/swaylock/config` æ–‡ä»¶ä¸­ã€‚

- ç¤ºä¾‹é…ç½®æ–‡ä»¶ï¼š

```ini
ignore-empty-password
font=Fira Sans Compressed

clock
timestr=%R
datestr=%a, %e of %B

screenshots

fade-in=0.2

effect-blur=20x2
#effect-greyscale
effect-scale=0.3

indicator
indicator-radius=360
indicator-thickness=60
indicator-caps-lock

key-hl-color=228833

separator-color=00000000

inside-color=00000099
inside-clear-color=ffd20400
inside-caps-lock-color=009ddc00
inside-ver-color=d9d8d800
inside-wrong-color=ee2e2400

ring-color=231f20D9
ring-clear-color=231f20D9
ring-caps-lock-color=231f20D9
ring-ver-color=231f20D9
ring-wrong-color=231f20D9

line-color=00000000
line-clear-color=ffd2000
line-caps-lock-color=009ddc00
line-ver-color=d9d8d800
line-wrong-color=ee2e2400

text-clear-color=ffd20400
text-ver-color=d9d8d800
text-wrong-color=ee2e2400

bs-hl-color=ee2e24FF
#caps-lock-key-hl-color=ffd204FF
#caps-lock-key-hl-color=ee2e24FF
#caps-lock-bs-hl-color=ee2e24FF
#disable-caps-lock-text
text-caps-lock-color=000000FF
```

## æ•…éšœæ’é™¤ä¸æœªç«Ÿäº‹å®œ

### å¯åŠ¨å¤±è´¥/é»‘å±

è¯·è¯»è€…æ£€æŸ¥æ˜¯å¦å·²å°†æ™®é€šç”¨æˆ·æ·»åŠ åˆ° `video` ç»„ï¼Œæ˜¯å¦å®‰è£…äº†æ˜¾å¡é©±åŠ¨ï¼Œä»¥åŠæ˜¯å¦æ­£ç¡®è®¾ç½®ç¯å¢ƒå˜é‡ `XDG_RUNTIME_DIR`ï¼Œå¹¶ç¡®è®¤ä¸Šè¿°è®¾ç½®å·²ç”Ÿæ•ˆã€‚


## å‚è€ƒæ–‡çŒ®

- [ArchLinux ä¸‹ Hyprland é…ç½®æŒ‡åŒ—](https://www.bilibili.com/read/cv22707313/)
- [Hyprland çš„é…ç½®](https://nth233.top/posts/2023-02-26-Hyprland%E9%85%8D%E7%BD%AE)
- [Gentoo Wiki Hyprland](https://wiki.gentoo.org/wiki/Hyprland) æŒ‡å‡ºå¯åŠ¨å‘½ä»¤åº”ä¸º `dbus-run-session Hyprland`
- [Arch Wiki Hyprland](https://wiki.archlinux.org/title/Hyprland) æŒ‡å‡ºè™šæ‹Ÿæœºéœ€è¦ 3D åŠ é€Ÿï¼Œå› æ­¤ä¾èµ– drm GPUï¼Œè€Œ FreeBSD ç›®å‰æœªè¿›è¡Œç§»æ¤ï¼Œæ•…åœ¨ FreeBSD ä¸Šä¸æ”¯æŒã€‚åŒæ—¶åœ¨æ‰€æœ‰å¹³å°ä¸Š Nvidia å‡æ— æ³•å¾—åˆ°æ”¯æŒã€‚
